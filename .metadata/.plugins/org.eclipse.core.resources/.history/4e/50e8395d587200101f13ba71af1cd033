package com.smhrd.web.mapper;

import java.util.List;

import org.apache.ibatis.annotations.Delete;
import org.apache.ibatis.annotations.Insert;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Select;
import org.apache.ibatis.annotations.Update;

import com.smhrd.web.entity.MsgMember;

@Mapper // -> Mybatis 기능을 동작시키기 위해서는 반드시 annotation 필요
public interface MemberMapper {
	
	// 비교적 sql구문을 호출하고 싶은 경우에는
	// 굳이 xml파일을 따로 분리하지않고 annotation을 사용해서 sql구문 실행 가능
	@Insert("insert into msg_member values(#{email}, #{pw}, #{tel}, #{address})")
	void join(MsgMember mem);
	
	@Select("select * from msg_member WHERE email = #{email} AND pw = #{pw}")
	MsgMember login(MsgMember mem);
	
	@Update("update msg_member set pw=#{pw}, tel=#{tel}, address=#{address} where email=#{email}")
	void update(MsgMember mem);

	// 한개의 행을 담기위한 타입으로 MsgMember가 필요하고
	// 해당 기능은 전체 회원에 대한 정보를 받아와야 하므로
	// List 자료구조를 활용한다!
	@Select("select * from msg_member")
	List<MsgMember> showMember();
	
	@Delete("delete from msg_member where email=#{email}")
	void delete(String email);
	
	@Select("select * from msg_member where email=#{email}")
	MsgMember selectByEmail(String email);
	
	
	
	
}
