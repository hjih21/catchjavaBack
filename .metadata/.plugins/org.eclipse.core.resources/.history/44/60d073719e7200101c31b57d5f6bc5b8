package com.smhrd.web.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import com.smhrd.web.entity.MsgMember;
import com.smhrd.web.mapper.MsgMemberMapper;

@RestController
public class UserRestController {

    @Autowired
    private MsgMemberMapper mapper;

    // GET /web/checkEmail?email=xxx
    @GetMapping("/checkEmail")
    public String checkEmail(@RequestParam("email") String email) {
        MsgMember user = mapper.selectByEmail(email);
        // user 가 null 이면 DB에 없다는 뜻 → true (사용 가능)
        return (user == null) ? "true" : "false";
    }
}
